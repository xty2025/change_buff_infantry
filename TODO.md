## 主线
一定要完成的功能。
- [ ] 1. 完善Solver功能：
    - 将目前使用线性多项式拟合的pitch,yaw和camera坐标的计算方式改为坐标系变换等方式。性能要求：**需要实际上车验证定中心点观测定位置装甲板旋转云台时解算得到世界坐标变动幅度<0.6°**
    - 三分法求解朝向
    - 调查并解决测距不精确/补偿问题。
- [ ] 2. 完善tracker功能：
    - 大幅度修改简化逻辑 
    - 添加利用整车模型优化track算法 
    - 添加对灰色装甲板的支持，最大程度利用信息
- [ ] 3. 补全Predictor功能：
    - 开发判断收敛、稳定的功能 
    - 开发适当时候重启功能 
    - 添加IMM算法适配状态切换频繁场景 
    - 尝试将装甲板灯条直接传入Predictor进行状态估计
    - 开发判断异常值并抛弃功能
- [ ] 4. 完善Controller功能：
    - 实现上位机层面的控制优化功能。即指写一个辅助程序测试嵌软当前PID参数响应延迟、响应幅度、能否达到设定值等功能，并导出参数通过主动放大，超前控制量达到补偿嵌软控制的功能。
    - 完善选板火控逻辑，通过类似惩罚/奖励/损失的计算来判断当前环境下如何选板、火控、**跟随装甲板/定点击打选择**，需结合敌方距离，装甲板朝向，转速等进行命中率预估，并藉此调整策略。
    - 添加枪口热量检测、控制算法并调整策略。
    - 弹速估计功能。
- [ ] 5. 静止靶：
    - 添加静止靶测试代码。
    - 测量静止靶击打情况优化算法，力图达到5m内弹速稳定情况下**高度差**±1m情况下静止靶均击打在小装甲板中央的完美效果。
## 支线
一些小问题或不太重要的功能
- [ ] 1. 解决使用网页调参主流程循环latency由8ms增至11ms的问题。
- [ ] 2. 开发类似TUI的日志功能，解决目前日志输出难读的问题。
- [ ] 3. 优化Udp发送数据功能，实现自动占位，按标签输出。
- [ ] 3. 开发VOFA的调试插件，实现类似foxglove的可视化目标状态观测可视化功能。
- [ ] 4. 开发判断敌方车辆是否在掩体后/相机边缘的算法，并在此时在Predictor中弃用部分新数据以避免错误数据输入导致崩溃。
- [ ] 5. 设计算法判断对方车辆是圆形还是方形，进而选择不同的模型进行半径估算，相位拟合等预测功能。
- [ ] 6. 加入qmy的cnn模型
- [ ] 7. 开发前哨站击打，基地击打功能

## FUTURE
一些未来可能会做或想实现或花里胡哨无实际价值的功能
- [ ] 1. 开发针对敌方轮腿上下小陀螺情形的运动预测功能（如果Predictor不原生支持的话）
- [ ] 2. 开发飞镖致盲情况下的自动辅瞄反击功能（循环转头+开火）
- [ ] 3. 开发反不规则小陀螺功能（进行一定程度上的速度拟合或进行慢速旋转区间的预测并只打慢速情形）
- [ ] 4. 开发2D平面地图视觉定位（有图定位）功能
- [ ] 5. 开发反导功能

## 打符
To be continued...

## Tips  
- 实际测试同时运行两个模型延迟仍然在10ms左右，完全在可接受范围。
- 闲的话可以试试测试辅助工具的性能，如Location的自动调用转换，TimeStamp之类的。以前第一版时测试性能影响很低，但目前修改后不太确定。
- 有一些代码是AI写的，使用小心。